/*!
 * Start Bootstrap - Resume v5.0.2 (https://startbootstrap.com/template-overviews/resume)
 * Copyright 2013-2020 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-resume/blob/master/LICENSE)
 */

var osc,pizza,pepperoni,mushroom,pepperoniIcon,mushroomIcon,pizzaRadius,newMouseX,newMouseY,toppings=[],selectedTopping=null;function preload(){pizza=loadImage("/img/pizza.png"),pepperoni=loadImage("/img/pepperoni.png"),mushroom=loadImage("/img/mushroom.png")}function setup(){(osc=new p5.Oscillator).setType("sine"),osc.freq(240),osc.amp(0),osc.start(),canvas_height=window.innerHeight,canvas_width=window.innerWidth,cnv=createCanvas(canvas_width,canvas_height),cnv.position(0,0),cnv.parent("pizza"),canvas_width<575||canvas_height<565?(pizza.resize(300,300),mushroom.resize(50,50),pepperoni.resize(50,50)):(pizza.resize(600,600),mushroom.resize(100,100)),pepperoniIcon=new Pepperoni(-canvas_width/2,-canvas_height/2),mushroomIcon=new Mushroom(-canvas_width/2,-canvas_height/2+pepperoni.height),pizzaRadius=pizza.width/2}function draw(){translate(canvas_width/2,canvas_height/2),background(0),image(pizza,0-pizza.width/2,0-pizza.height/2),fill(150),rect(-canvas_width/2,-canvas_height/2,mushroom.width,pepperoni.height+mushroom.height),pepperoniIcon.x=-canvas_width/2,pepperoniIcon.y=-canvas_height/2,mushroomIcon.x=-canvas_width/2,mushroomIcon.y=-canvas_height/2+pepperoni.height,pepperoniIcon.display(),mushroomIcon.display(),displayToppings()}function displayToppings(){for(var e=0;e<toppings.length;e++)toppings[e].update(),toppings[e].display()}window.onresize=function(){canvas_height=window.innerHeight,canvas_width=window.innerWidth,resizeCanvas(canvas_width,canvas_height)};var Topping=function(e,o,i){this.x=e,this.y=o,this.img=i,this.selected=!1,this.dragged=!1};function Pepperoni(e,o){Topping.call(this,e,o,pepperoni)}function Mushroom(e,o){Topping.call(this,e,o,mushroom)}function mousePressed(){if(pepperoniIcon.mouseOnTopping())selectedTopping=new Pepperoni(pepperoniIcon.x,pepperoniIcon.y),toppings.push(selectedTopping);else if(mushroomIcon.mouseOnTopping())selectedTopping=new Mushroom(mushroomIcon.x,mushroomIcon.y),toppings.push(selectedTopping);else for(var e=0;e<toppings.length;e++)toppings[e].mouseOnTopping()&&(selectedTopping=toppings[e])}function mouseReleased(){selectedTopping&&(selectedTopping.selected=!1,selectedTopping.dragged=!1),selectedTopping=null,osc.amp(0,.5)}function mouseDragged(){selectedTopping&&(selectedTopping.dragged=!0,selectedTopping.x*selectedTopping.x+selectedTopping.y*selectedTopping.y<=pizzaRadius*pizzaRadius?(selectedTopping.img==pepperoni?osc.setType("sine"):osc.setType("triangle"),osc.pan(map(selectedTopping.x,-pizzaRadius,pizzaRadius,-1,1)),osc.freq(map(selectedTopping.y,pizzaRadius,-pizzaRadius,220,440)),osc.amp(.5,.05)):osc.amp(0,.5))}function touchStarted(){"running"!==getAudioContext().state&&getAudioContext().resume()}Topping.prototype.update=function(){1==this.dragged&&(newMouseX=mouseX-canvas_width/2,newMouseY=mouseY-canvas_height/2,this.x=newMouseX-this.img.width/2,this.y=newMouseY-this.img.height/2)},Topping.prototype.mouseOnTopping=function(){return newMouseX=mouseX-canvas_width/2,newMouseY=mouseY-canvas_height/2,newMouseX>=this.x&&newMouseX<=this.x+this.img.width&&newMouseY>=this.y&&newMouseY<=this.y+this.img.height},Topping.prototype.display=function(){image(this.img,this.x,this.y)},Pepperoni.prototype=Object.create(Topping.prototype),Pepperoni.prototype.constructor=Pepperoni,Mushroom.prototype=Object.create(Topping.prototype),Mushroom.prototype.constructor=Mushroom;